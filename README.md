# Решение тестового задания на позицию Go Intern/Trainee in Telecom
_________________
## Задание
Задание выполняется на языке Go.

Требуется написать программу, которая читает произвольную CSV-форму из файла (количество строк и столбцов может быть
любым), вычисляет значения ячеек, если это необходимо, и выводит получившуюся табличку в виде CSV-представления в
консоль. 

### Решение

Решение разбивается на несколько этапов:
- Читаем входные данные из файла с помощью встроенной библиотеки `"encoding/csv"`. Все строки вычитываем и складываем в массив.
- Далее сортируем данный массив по первому элементу, то есть по названию рядов.
- Затем для более эффективного поиска по таблице создадим две хэш-таблицы, в которых ключем будут имена строк и столбцов, а значениями их порядок в таблице.
- Далее необходимо обойти вся ячейки таблицы и, при возможности, вычислить их значения. Однако возможны случаи, когда даже после итерирования остануться ячейки, значение которых нельзя получить, поскольку они ссылаются на также неизвестные ячейки.
- В таком случае будем сохранять строку и столбец данных ячеек в хэш-карту `awaited`.
- Далее будем проходиться по данным ячейкам и уравнивать их, пока `awaited` не опустеет.
- Если получилось высчитать значения всех ячеек - выводим таблицу, в противном случае выводим ошибку.

### Особенности релизации
- Имя файла передаётся вторым аргументом, в случае, если аргумент не был введен, есть возможность повторного ввода.
- Реализованы unit-тесты рассматривающие как общие, так и краевые случаи. Используется библиотека `testify`.
- Можно использовать Makefile для сборки и тестирования утилиты.

### Обработка ошибок
В данном решении обрабатываются следующие ошибки:
- Неверный формат данных
- Пустые ячейки
- Циклические ссылки в ячейках, что приводит к невозможности нахождения их значения.
- Дублирование строк и столбцов

## Запуск программы

Установите зависимости с помощью:

```go
go mod download
```

Компиляция программы возможна с помощью утилиты cmake (если она предварительно установлена).
```
make
```
Либо 
```go
go build -o csvreader.exe .
```
Для запуска используйте команду:
```
$ .\csvreader.exe filename.csv
```

### Запуск тестов

Установите зависимости с помощью `go mod download`

Запуск тестов возможен с помощью утилиты cmake (если она предварительно установлена).
```
make test
```
Либо
```go
go test
```

### Пример ввода/вывода программы
```
$ .\csvreader.exe test1.csv
```
```
,A,B,Cell
1,1,0,1
2,2,6,0,
30,0,1,5
```

### Выполнил
Артём Галкин igalart2000@gmail.com